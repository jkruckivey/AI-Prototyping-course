<!-- Skip link for keyboard users -->
<a href="#main-content" class="sr-only sr-only-focusable">Skip to main content</a>

<main id="main-content" role="main">
<div id="dp-wrapper" class="dp-wrapper">
  <div class="dp-progress-placeholder dp-module-progress-icons" style="display: none;" aria-hidden="true">Icon Progress Bar (browser only)</div>

  <div class="dp-content-block content-block" data-title="K-Nearest Neighbours (KNN)">
    <h2 class="dp-has-icon"><i class="dp-icon fas fa-users" aria-hidden="true"></i>&nbsp;K-Nearest Neighbours (KNN)</h2>
    <div class="dp-card card" style="border-left: 4px solid #034638; padding-left: 15px;">
      <div class="card-body">
        <h3 class="card-title dp-ignore-theme">What this page covers</h3>
        <p>Intuition and practice of a simple, surprisingly strong baseline for <strong>classification</strong> and <strong>regression</strong> that makes predictions by looking at the <em>K closest examples</em> in your training data.</p>
      </div>
    </div>
  </div>

  <!-- Video 4: K-Nearest Neighbors -->
  <div class="dp-content-block content-block" data-title="Video: K-Nearest Neighbors">
    <h2 class="dp-has-icon"><i class="dp-icon fas fa-video" aria-hidden="true"></i>&nbsp;Video: K-Nearest Neighbors (KNN)</h2>
    <p><iframe class="lti-embed" style="width: 720px; height: 405px;" title="Week 2 Video 4: K-Nearest Neighbors" src="[PANOPTO_LTI_URL_VIDEO_4]" width="720" height="405" loading="lazy" allowfullscreen="allowfullscreen" webkitallowfullscreen="webkitallowfullscreen" mozallowfullscreen="mozallowfullscreen" allow="geolocation *; microphone *; camera *; midi *; encrypted-media *; autoplay *; clipboard-write *; display-capture *"></iframe></p>
    <p><a id="[FILE_ID_VIDEO_4]" class="instructure_file_link instructure_scribd_file inline_disabled" title="Link" href="[CAPTION_LINK_VIDEO_4]" target="_blank" rel="noopener" data-canvas-previewable="true" data-api-endpoint="[CAPTION_API_VIDEO_4]" data-api-returntype="File">Week 2 Video 4 - K-Nearest Neighbors - Captions.docx</a></p>
  </div>

  <div class="dp-content-block content-block" data-title="Intuition & Basics">
    <h2 class="dp-has-icon"><i class="dp-icon fas fa-lightbulb" aria-hidden="true"></i>&nbsp;Intuition & Basics</h2>
    <div class="dp-panels-wrapper dp-accordion-default dp-panel-hover-color-dp-white dp-panel-active-color-dark">
      <div class="dp-panel-group">
        <h3 class="dp-panel-heading" role="button" tabindex="0" aria-expanded="false" aria-controls="knn-intuition" id="knn-intuition-heading">How KNN predicts</h3>
        <div id="knn-intuition" class="dp-panel-content" role="region" aria-labelledby="knn-intuition-heading" hidden>
          <p>Given a new point, find its <strong>K nearest neighbours</strong> in the training set and:
            <ul>
              <li><strong>Classification:</strong> predict the <em>majority label</em> among the K neighbours (optionally weighted by distance).</li>
              <li><strong>Regression:</strong> predict the <em>average</em> of the neighbours’ target values (optionally distance‑weighted).</li>
            </ul>
          </p>
          <p class="mb-0"><em>Note:</em> KNN is <strong>non‑parametric</strong>—there’s no explicit training step beyond storing the data.</p>
        </div>
      </div>
      <div class="dp-panel-group">
        <h3 class="dp-panel-heading" role="button" tabindex="0" aria-expanded="false" aria-controls="knn-k" id="knn-k-heading">Choosing K</h3>
        <div id="knn-k" class="dp-panel-content" role="region" aria-labelledby="knn-k-heading" hidden>
          <ul class="list-group list-group-flush">
            <li class="list-group-item"><strong>Small K</strong> → low bias, high variance (can overfit to noise).</li>
            <li class="list-group-item"><strong>Large K</strong> → smoother boundary, higher bias (may blur classes).</li>
            <li class="list-group-item">Common starting points: 3, 5, 7; pick K via validation (and keep K odd for binary classes to reduce ties).</li>
          </ul>
        </div>
      </div>
      <div class="dp-panel-group">
        <h3 class="dp-panel-heading" role="button" tabindex="0" aria-expanded="false" aria-controls="knn-dist" id="knn-dist-heading">Distance & scaling</h3>
        <div id="knn-dist" class="dp-panel-content" role="region" aria-labelledby="knn-dist-heading" hidden>
          <p>Different features must be on comparable scales or one unit can dominate distance.</p>
          <ul class="list-group list-group-flush">
            <li class="list-group-item">Scale features (standardize or normalize).</li>
            <li class="list-group-item">Try <strong>Euclidean</strong> (default), <strong>Manhattan</strong> (robust to outliers), or custom metrics.</li>
            <li class="list-group-item">Optional: <em>distance‑weighted</em> voting/averaging (closer neighbours count more).</li>
          </ul>
        </div>
      </div>
      <div class="dp-panel-group">
        <h3 class="dp-panel-heading" role="button" tabindex="0" aria-expanded="false" aria-controls="knn-tradeoffs" id="knn-tradeoffs-heading">Pros, Cons & Trade‑offs</h3>
        <div id="knn-tradeoffs" class="dp-panel-content" role="region" aria-labelledby="knn-tradeoffs-heading" hidden>
          <div class="row">
            <div class="col-md-6">
              <div class="dp-card card h-100" style="border-left: 4px solid #16a34a; padding-left: 12px;">
                <div class="card-body">
                  <h6 class="card-title">✅ Strengths</h6>
                  <ul class="mb-0">
                    <li>Simple, strong baseline.</li>
                    <li>Adapts to complex boundaries with enough data.</li>
                    <li>No model assumptions.</li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="dp-card card h-100" style="border-left: 4px solid #dc2626; padding-left: 12px;">
                <div class="card-body">
                  <h6 class="card-title">⚠️ Cautions</h6>
                  <ul class="mb-0">
                    <li>Slow at prediction (must search neighbours).</li>
                    <li>Memory‑heavy (stores training data).</li>
                    <li>Sensitive to irrelevant features & scale.</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="dp-content-block content-block" data-title="Interactive: Play with K">
    <h2 class="dp-has-icon"><i class="dp-icon fas fa-play-circle" aria-hidden="true"></i>&nbsp;Interactive: Play with K</h2>
    <p class="mt-2"><em>Try it:</em> Move the K slider and watch the decision boundary change. Then toggle feature scaling and see how distances—and predictions—shift.</p>
<p><iframe style="overflow: hidden;" src="https://learn.ivey.ca/courses/6194/external_tools/retrieve?borderless=true&amp;url=https://scone-prod.ca-central-1.inscloudgate.net/packages/49261/launch" width="1000" height="1000" loading="lazy"></iframe></p>
  </div>

  <div class="dp-content-block content-block" data-title="KNN for Regression">
    <h2 class="dp-has-icon"><i class="dp-icon fas fa-chart-area" aria-hidden="true"></i>&nbsp;KNN for Regression</h2>
    <div class="dp-panels-wrapper dp-accordion-default dp-panel-hover-color-dp-white">
      <div class="dp-panel-group">
        <h3 class="dp-panel-heading" role="button" tabindex="0" aria-expanded="false" aria-controls="knn-reg" id="knn-reg-heading">Averaging neighbours</h3>
        <div id="knn-reg" class="dp-panel-content" role="region" aria-labelledby="knn-reg-heading" hidden>
          <p>Predict a numeric target by averaging the K nearest neighbours’ target values. Use <strong>distance weighting</strong> to give closer points more influence.</p>
        </div>
      </div>
      <div class="dp-panel-group">
        <h3 class="dp-panel-heading" role="button" tabindex="0" aria-expanded="false" aria-controls="knn-reg-metrics" id="knn-reg-metrics-heading">Metrics & evaluation</h3>
        <div id="knn-reg-metrics" class="dp-panel-content" role="region" aria-labelledby="knn-reg-metrics-heading" hidden>
          <ul class="list-group list-group-flush">
            <li class="list-group-item">Use MAE/MSE/RMSE; compare against simple baselines (mean/median).</li>
            <li class="list-group-item">For time‑series, use <strong>time‑aware splits</strong> (no future leakage).</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <div class="dp-content-block content-block" data-title="Performance Considerations">
    <h2 class="dp-has-icon"><i class="dp-icon fas fa-tachometer-alt" aria-hidden="true"></i>&nbsp;Performance Considerations</h2>
    <div class="dp-panels-wrapper dp-accordion-default dp-panel-hover-color-dp-white">
      <div class="dp-panel-group">
        <h3 class="dp-panel-heading" role="button" tabindex="0" aria-expanded="false" aria-controls="knn-index" id="knn-index-heading">Speeding up neighbor search</h3>
        <div id="knn-index" class="dp-panel-content" role="region" aria-labelledby="knn-index-heading" hidden>
          <p>Exact search can be slow at scale. Options include indexing structures (KD‑tree/ball tree), approximate nearest neighbours, or pruning features.</p>
        </div>
      </div>
      <div class="dp-panel-group">
        <h3 class="dp-panel-heading" role="button" tabindex="0" aria-expanded="false" aria-controls="knn-pipeline" id="knn-pipeline-heading">Pipeline hygiene</h3>
        <div id="knn-pipeline" class="dp-panel-content" role="region" aria-labelledby="knn-pipeline-heading" hidden>
          <p>Fit scalers on the <strong>training</strong> set only, then apply to validation/test to avoid leakage. Keep the same scaler in production.</p>
        </div>
      </div>
    </div>
  </div>

  <div class="dp-callout dp-callout-placeholder card dp-callout-position-default w-100 dp-callout-type-default dp-callout-color-dp-primary">
    <div class="card-body">
      <h3 class="card-title">Helpful Tip</h3>
      <p class="card-text">Start with a small grid of K values (3–15) and choose via validation. Always scale features first.</p>
    </div>
  </div>

  <hr aria-hidden="true" />
  <p>Select <strong>Next▸</strong> to continue.</p>
</div>
</main>

<!-- Canvas‑safe toggling -->
<script>
(function () {
  function toggleHead(h){
    const content = document.getElementById(h.getAttribute('aria-controls'));
    const expanded = h.getAttribute('aria-expanded') === 'true';
    h.setAttribute('aria-expanded', String(!expanded));
    if (content) content.hidden = expanded;
  }
  document.addEventListener('click', function (e) {
    const h = e.target.closest('.dp-panel-heading[role=\"button\"]');
    if (h) toggleHead(h);
  });
  document.addEventListener('keydown', function (e) {
    if ((e.key === 'Enter' || e.key === ' ') && e.target.matches('.dp-panel-heading[role=\"button\"]')) {
      e.preventDefault(); toggleHead(e.target);
    }
  });
})();
</script>
