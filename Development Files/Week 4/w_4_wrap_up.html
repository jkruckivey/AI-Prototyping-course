<div id="dp-wrapper" class="dp-wrapper">
  <div class="dp-progress-placeholder dp-module-progress-icons" style="display: none;">Icon Progress Bar (browser only)</div>

  <!-- Week 4 Wrap-Up -->
  <div class="dp-content-block content-block" data-title="Week 4 — Review & Wrap-Up">
    <h2 class="dp-has-icon"><i class="dp-icon fas fa-flag-checkered" aria-hidden="true"></i>&nbsp;Week 4 — Review & Wrap-Up</h2>
    <div class="dp-card card" style="border-left: 4px solid #034638; padding-left: 15px;">
      <div class="card-body">
        <h3 class="card-title dp-ignore-theme">Quick Recap</h3>
        <p>You learned to evaluate models beyond accuracy, align metrics with <strong>business value</strong>, select leak‑safe validation schemes, and tune hyperparameters responsibly.</p>
      </div>
    </div>
  </div>

  <!-- Knowledge Check -->
  <div class="dp-content-block content-block" data-title="Knowledge Check">
    <h2 class="dp-has-icon"><i class="dp-icon fas fa-clipboard-check" aria-hidden="true"></i>&nbsp;Knowledge Check</h2>
    <div class="dp-panels-wrapper dp-accordion-default dp-panel-hover-color-dp-white dp-panel-active-color-dark">
      <div class="dp-panel-group">
        <h3 class="dp-panel-heading" role="button" tabindex="0" aria-expanded="false" aria-controls="w4-q1">1) When should you prefer PR curves over ROC curves?</h3>
        <div id="w4-q1" class="dp-panel-content" hidden>
          <p>When the positive class is <strong>rare</strong> and you care about <strong>precision/recall</strong> trade‑offs directly.</p>
        </div>
      </div>
      <div class="dp-panel-group">
        <h3 class="dp-panel-heading" role="button" tabindex="0" aria-expanded="false" aria-controls="w4-q2">2) Why keep preprocessing inside the CV pipeline?</h3>
        <div id="w4-q2" class="dp-panel-content" hidden>
          <p>To avoid <strong>leakage</strong>: statistics (e.g., scalers) must be learned only on the training fold, then applied to validation.</p>
        </div>
      </div>
      <div class="dp-panel-group">
        <h3 class="dp-panel-heading" role="button" tabindex="0" aria-expanded="false" aria-controls="w4-q3">3) What does early stopping help prevent?</h3>
        <div id="w4-q3" class="dp-panel-content" hidden>
          <p><strong>Overfitting</strong> and wasted compute by halting training when validation scores plateau.</p>
        </div>
      </div>
      <div class="dp-panel-group">
        <h3 class="dp-panel-heading" role="button" tabindex="0" aria-expanded="false" aria-controls="w4-q4">4) How do you translate a threshold choice into business terms?</h3>
        <div id="w4-q4" class="dp-panel-content" hidden>
          <p>Use a <strong>cost matrix</strong> and expected value calculation to pick the cutoff that maximizes net benefit (and fits operational capacity).</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Interactive quiz widget -->
  <div class="dp-content-block content-block" data-title="Interactive Quiz (Optional)">
    <h2 class="dp-has-icon"><i class="dp-icon fas fa-play-circle" aria-hidden="true"></i>&nbsp;Interactive Quiz (Optional)</h2>
    <p class="mt-2">Prefer an interactive check? Use the short quiz below.</p>
    <div class="dp-embed-wrapper">
      <iframe title="Week 4 Wrap-Up Quiz" role="application" src="https://jkruckivey.github.io/AI-Prototyping-course/demos/widgets/w4-wrap-quiz.html" width="100%" height="900" loading="lazy" allowfullscreen aria-label="Interactive multiple-choice quiz covering Week 4"></iframe>
    </div>
  </div>

  <!-- Reflection & Next Steps -->
  <div class="dp-content-block content-block" data-title="Reflection & Next Steps">
    <h2 class="dp-has-icon"><i class="dp-icon fas fa-pen" aria-hidden="true"></i>&nbsp;Reflection & Next Steps</h2>
    <div class="dp-panels-wrapper dp-accordion-default dp-panel-hover-color-dp-white">
      <div class="dp-panel-group">
        <h3 class="dp-panel-heading" role="button" tabindex="0" aria-expanded="false" aria-controls="w4-reflect">Reflection</h3>
        <div id="w4-reflect" class="dp-panel-content" hidden>
          <p>Pick a real decision in your org and specify: the metric that matters, the cost matrix, your initial threshold, and how you would monitor drift.</p>
        </div>
      </div>
      <div class="dp-panel-group">
        <h3 class="dp-panel-heading" role="button" tabindex="0" aria-expanded="false" aria-controls="w4-next">Next steps</h3>
        <div id="w4-next" class="dp-panel-content" hidden>
          <p>Plan a <strong>pilot</strong>: define a small population, guardrails, and success criteria. Run for two weeks and compare outcomes vs. baseline.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Helpful Tip / End-of-session reminder -->
  <div class="dp-callout dp-callout-placeholder card dp-callout-position-default w-100 dp-callout-color-dp-primary dp-callout-type-info" role="note" aria-label="Session completion reminder">
    <div class="dp-callout-side-emphasis"><i class="dp-icon fas fa-info-circle dp-default-icon" aria-hidden="true"></i></div>
    <div class="card-body">
      <h3 class="card-title"><strong>Reminder</strong></h3>
      <p class="card-text">This is the last page in Week 4. Ensure you’ve completed the quiz and reflection prompts before moving on.</p>
    </div>
  </div>

  <hr />
  <p>Select <strong>Modules</strong> to return to the course overview, or proceed to the next module.</p>
</div>

<!-- Canvas-safe toggling -->
<script>
(function () {
  function toggleHead(h){
    const content = document.getElementById(h.getAttribute('aria-controls'));
    const expanded = h.getAttribute('aria-expanded') === 'true';
    h.setAttribute('aria-expanded', String(!expanded));
    if (content) content.hidden = expanded;
  }
  document.addEventListener('click', function (e) {
    const h = e.target.closest('.dp-panel-heading[role=\"button\"]');
    if (h) toggleHead(h);
  });
  document.addEventListener('keydown', function (e) {
    if ((e.key === 'Enter' || e.key === ' ') && e.target.matches('.dp-panel-heading[role=\"button\"]')) {
      e.preventDefault(); toggleHead(e.target);
    }
  });
})();
</script>
