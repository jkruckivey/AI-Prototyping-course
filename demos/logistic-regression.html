<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Logistic Regression Interactive Demo</title>
  <link rel="stylesheet" href="shared-demo.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Figtree:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
  <div class="container">
    <header class="header">
      <a href="../index.html" class="back-link">‚Üê Back to Course Hub</a>
      <h1 class="site-title">Logistic Regression: Classification Demo</h1>
      <p class="site-subtitle">Learn how logistic regression classifies data using the sigmoid function</p>
    </header>

    <main class="main-content">
      <!-- Featured Example -->
      <section class="example-spotlight">
        <div class="spotlight-header">
          <h2>üçéüçä Real-World Example: Apple vs Orange Classification</h2>
          <p>Discover how logistic regression uses a sigmoid curve to classify fruits based on color and weight features.</p>
        </div>
        
        <div class="spotlight-content">
          <div class="example-story">
            <div class="story-step active" id="step1">
              <div class="step-number">1</div>
              <div class="step-content">
                <h3>The Yes/No Decision Problem</h3>
                <p><strong>Real-world scenario:</strong> You're building a smart grocery scanner. When someone scans a fruit, you need to answer: "Is this an apple or an orange?"</p>
                <p>This is different from predicting a number (like salary). Here we need to <strong>classify</strong> - put things into categories.</p>
                <div class="data-preview">
                  <div class="classification-intro">
                    <div class="decision-example">
                      <strong>ü§î The Question:</strong> Looking at color and weight, which fruit is this?
                    </div>
                    <div class="class-examples">
                      <div class="class-example apple">
                        <strong>üçé Apples:</strong> Typically redder (color score 6-9), various weights
                      </div>
                      <div class="class-example orange">
                        <strong>üçä Oranges:</strong> More orange/yellow (color score 3-6), often heavier
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="story-step" id="step2">
              <div class="step-number">2</div>
              <div class="step-content">
                <h3>Why Not Just Use a Straight Line?</h3>
                <p><strong>The problem with linear regression for classification:</strong> A straight line can go to infinity in both directions, but probabilities must stay between 0% and 100%!</p>
                <div class="comparison-visual">
                  <div class="line-problem">
                    <div class="problem-example">
                      <strong>üìè Straight Line Problem:</strong>
                      <br>Could predict "150% chance it's an apple" or "-30% chance" 
                      <br><em>That makes no sense! ü§Ø</em>
                    </div>
                    <div class="solution-example">
                      <strong>üéØ What We Need:</strong>
                      <br>Always stay between 0% and 100%
                      <br><em>Like: "75% confident this is an apple"</em>
                    </div>
                  </div>
                </div>
                <p><strong>Solution:</strong> We need a curve that "squishes" all predictions into the 0-100% range!</p>
              </div>
            </div>
            
            <div class="story-step" id="step3">
              <div class="step-number">3</div>
              <div class="step-content">
                <h3>The Magic S-Curve (Sigmoid)</h3>
                <p><strong>Meet the Sigmoid:</strong> It's like a smart curve that takes ANY number and "squishes" it into a probability between 0% and 100%!</p>
                <div class="sigmoid-explanation">
                  <div class="sigmoid-analogy">
                    <div class="analogy-part">
                      <strong>üé¢ Think of it like a slide:</strong>
                      <br>‚Ä¢ Start high on the left (near 100%)
                      <br>‚Ä¢ Smoothly slide down in the middle (50% area)
                      <br>‚Ä¢ End low on the right (near 0%)
                    </div>
                    <div class="sigmoid-benefits">
                      <strong>‚ú® Why it's perfect:</strong>
                      <br>‚Ä¢ Never goes below 0% or above 100%
                      <br>‚Ä¢ Smooth curve = no sudden jumps
                      <br>‚Ä¢ Clear "decision point" in the middle (50%)
                    </div>
                  </div>
                </div>
                <p><strong>Real example:</strong> Color score 7 ‚Üí Sigmoid ‚Üí "85% chance it's an apple"</p>
              </div>
            </div>
            
            <div class="story-step" id="step4">
              <div class="step-number">4</div>
              <div class="step-content">
                <h3>Making Predictions</h3>
                <p>The sigmoid outputs a probability, then we apply a threshold:</p>
                <div class="prediction-examples">
                  <div class="prediction-example">
                    <strong>Probability = 0.8 (80%)</strong> ‚Üí <span class="prediction-value apple">üçé Apple</span>
                  </div>
                  <div class="prediction-example">
                    <strong>Probability = 0.3 (30%)</strong> ‚Üí <span class="prediction-value orange">üçä Orange</span>
                  </div>
                  <div class="prediction-example">
                    <strong>Probability = 0.5 (50%)</strong> ‚Üí <span class="prediction-value boundary">ü§î Decision Boundary</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <div class="story-controls">
            <button class="btn btn-outline story-btn" data-step="1">Problem</button>
            <button class="btn btn-outline story-btn" data-step="2">Why Logistic?</button>
            <button class="btn btn-outline story-btn" data-step="3">Sigmoid</button>
            <button class="btn btn-outline story-btn" data-step="4">Predictions</button>
          </div>
        </div>
      </section>

      <!-- Interactive Visualization -->
      <section class="viz-section">
        <div class="viz-controls">
          <h2>üéØ Interactive Classification</h2>
          <p>Adjust the sigmoid parameters and threshold to see how classification changes:</p>
          
          <div class="connection-note">
            üí° <strong>Watch the sigmoid curve adapt</strong> to separate apples from oranges!
          </div>
          
          <div class="control-group">
            <label for="slope">Sigmoid Steepness: <span id="slopeValue">1.0</span></label>
            <input type="range" id="slope" min="0.1" max="3.0" step="0.1" value="1.0">
            <small>Higher values = sharper decision boundary</small>
          </div>
          
          <div class="control-group">
            <label for="shift">Sigmoid Center: <span id="shiftValue">5.0</span></label>
            <input type="range" id="shift" min="2.0" max="8.0" step="0.2" value="5.0">
            <small>Shifts the decision boundary left/right</small>
          </div>
          
          <div class="control-group">
            <label for="threshold">Decision Threshold: <span id="thresholdValue">0.5</span></label>
            <input type="range" id="threshold" min="0.1" max="0.9" step="0.05" value="0.5">
            <small>Probability cutoff for classification</small>
          </div>
          
          <div class="metrics">
            <div class="metric">
              <span class="metric-label">Classification Accuracy:</span>
              <span id="accuracy" class="metric-value">0%</span>
            </div>
            <div class="metric">
              <span class="metric-label">Apples Classified:</span>
              <span id="applesCount" class="metric-value">0</span>
            </div>
            <div class="metric">
              <span class="metric-label">Oranges Classified:</span>
              <span id="orangesCount" class="metric-value">0</span>
            </div>
            <button id="findBestFit" class="btn btn-primary">Find Optimal Parameters</button>
          </div>
        </div>

        <div class="plot-container">
          <div id="classificationPlot"></div>
        </div>
      </section>

      <!-- Concepts Explanation -->
      <section class="concepts-section">
        <h2>üìö Key Concepts</h2>
        
        <div class="concept-grid">
          <div class="concept-card">
            <h3>Classification vs Regression</h3>
            <p><strong>Classification:</strong> Predicts discrete categories (Apple/Orange)<br>
            <strong>Regression:</strong> Predicts continuous values (price, height)<br>
            Logistic regression is for <em>classification</em> despite its name!</p>
          </div>

          <div class="concept-card">
            <h3>Sigmoid Function</h3>
            <p>The <strong>S-shaped curve</strong> maps any input to a value between 0 and 1, making it perfect for probabilities. Formula: <code>1 / (1 + e^(-x))</code></p>
          </div>

          <div class="concept-card">
            <h3>Decision Boundary</h3>
            <p>The <strong>threshold</strong> (usually 0.5) where we decide between classes. Above threshold = Class 1, below = Class 0.</p>
          </div>

          <div class="concept-card">
            <h3>Training Process</h3>
            <p>Uses <strong>Maximum Likelihood Estimation</strong> or gradient descent to find the best sigmoid curve parameters that minimize classification errors.</p>
          </div>
        </div>
      </section>

      <!-- Comparison with Linear Regression -->
      <section class="comparison-section">
        <h2>‚öñÔ∏è Linear vs Logistic Regression</h2>
        
        <div class="comparison-grid">
          <div class="comparison-card linear">
            <h3>üìà Linear Regression</h3>
            <div class="comparison-content">
              <div class="feature-list">
                <div class="feature">‚úì Predicts continuous values</div>
                <div class="feature">‚úì Uses straight line</div>
                <div class="feature">‚úì Minimizes MSE</div>
                <div class="feature">‚úì Output: any real number</div>
                <div class="feature">‚úì Example: Salary prediction</div>
              </div>
              <div class="use-case">
                <strong>Use Case:</strong> "How much will this house cost?"
              </div>
            </div>
          </div>

          <div class="comparison-card logistic">
            <h3>üìä Logistic Regression</h3>
            <div class="comparison-content">
              <div class="feature-list">
                <div class="feature">‚úì Predicts categories/classes</div>
                <div class="feature">‚úì Uses sigmoid curve</div>
                <div class="feature">‚úì Maximizes likelihood</div>
                <div class="feature">‚úì Output: probability (0-1)</div>
                <div class="feature">‚úì Example: Fruit classification</div>
              </div>
              <div class="use-case">
                <strong>Use Case:</strong> "Is this an apple or orange?"
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Interactive Predictor -->
      <section class="predictor-section">
        <h2>üéØ Try Your Own Predictions</h2>
        <div class="predictor-content">
          <div class="predictor-form">
            <h3>üîß Classify a New Fruit</h3>
            <div class="input-group">
              <label>Color Score (0-10):</label>
              <input type="number" id="colorInput" value="6" min="0" max="10" step="0.1">
              <small>0 = Green, 10 = Red</small>
            </div>
            <div class="input-group">
              <label>Weight (grams):</label>
              <input type="number" id="weightInput" value="150" min="50" max="300" step="5">
            </div>
            <button id="predictFruit" class="btn btn-secondary">Classify Fruit</button>
            
            <div class="prediction-result">
              <div class="result-display">
                <div class="probability-bar">
                  <div class="probability-fill" id="probabilityFill"></div>
                  <span class="probability-text" id="probabilityText">50%</span>
                </div>
                <div class="classification-result" id="classificationResult">
                  <strong>Classification: <span id="predictedClass">ü§î Unknown</span></strong>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script src="logistic-regression.js"></script>
</body>
</html>